<div class="contain">
  <div class="card">
    <div class="card-header">
      Update Event
    </div>
    <div class="card-body">
      <form [formGroup]="angForm">
        <div class="form-group">
          <label class="col-md-4">Home image</label>
          <input
            type="file"
            class="form-control"
            (change)="upload($event)"
            accept=".png,.jpg"
            formControlName="event_imgHome"
            #event_imgHome
          />
        </div>
        <div>
          <progress max="100" [value]="uploadProgress | async"></progress>
          {{ uploadProgress | async }}%
          <img [src]="[event?.image]" alt="{{ event?.image }}" height="200px" />
        </div>
        <div class="form-group">
          <label class="col-md-4">event Name</label>
          <input
            type="text"
            class="form-control"
            formControlName="event_name"
            #event_name
            [(ngModel)]="event.title"
          />
        </div>
        <div class="form-group">
          <label class="col-md-4">event Name Short </label>
          <input
            type="text"
            class="form-control"
            formControlName="event_name_short"
            #event_name_short
            [(ngModel)]="event.titleshort"
          />
        </div>
        <div class="form-group">
          <label class="col-md-4">Event Place</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="event.lieu"
            formControlName="event_lieu"
            #event_lieu
          />
        </div>
        <div class="form-group">
          <label class="col-md-4">Event Date </label>
          <input
            type="date"
            class="form-control"
            [(ngModel)]="event.date"
            formControlName="event_gst_date"
            #event_gst_date
          />
        </div>
        <div class="form-group">
          <label class="col-md-4">Event Link Evenbride</label>
          <input
            type="text"
            class="form-control"
            [(ngModel)]="event.evenbride"
            formControlName="event_evenbride"
            #event_evenbride
          />
        </div>
        <div class="form-group">
          <label class="col-md-4">Event first descripltion</label>
          <textarea
            type="text"
            class="form-control"
            formControlName="event_desc"
            [(ngModel)]="event.description.short"
            #event_desc
          ></textarea>
        </div>
        <div class="form-group">
          <label class="col-md-4">Event second descripltion </label>
          <textarea
            type="text"
            class="form-control"
            formControlName="event_desc_other"
            #event_desc_other
            [(ngModel)]="event.description.short1"
          ></textarea>
        </div>
        <div class="form-group">
          <label class="col-md-4">Event long descripltion </label>
          <textarea
            type="text"
            class="form-control"
            formControlName="event_desc_long"
            #event_desc_long
            [(ngModel)]="event.description.long"
          ></textarea>
        </div>
        <div class="d-flex justify-content-between flex-wrap">
          <div
            class="card"
            *ngFor="let facilitator of event?.facilitator; let indexF = index"
          >
            <div class="d-flex flex-column">
              <div class="form-group">
                <label class="col-md-4">Facilitator {{ indexF }} image </label>
                <input
                  type="file"
                  class="form-control"
                  (change)="uploadF($event, indexF)"
                  [(ngModel)]="facilitator.image"
                  accept=".png,.jpg"
                  formControlName="event_imgFacilitator"
                  #event_imgFacilitator
                />
              </div>
              <div>
                <progress
                  max="100"
                  [value]="uploadProgressF | async"
                ></progress>
                {{ uploadProgressF | async }}%
                <img [src]="[facilitator?.image]" alt="" height="200px" />
              </div>
              <div class="form-group">
                <label class="">Facilitator {{ indexF }} name</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="facilitator.name"
                  formControlName="event_faclitator_name"
                  #event_faclitator_name
                />
              </div>
              <div class="form-group">
                <label class="">Facilitator {{ indexF }} job</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="facilitator.job"
                  formControlName="event_faclitator_job"
                  #event_faclitator_job
                />
              </div>
              <div class="form-group">
                <label class="">Facilitator {{ indexF }} feel</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="facilitator.feel"
                  formControlName="event_faclitator_feel"
                  #event_faclitator_feel
                />
              </div>
              <div class="form-group">
                <label class="">Facilitator {{ indexF }} twitter</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="facilitator.twitter"
                  formControlName="event_faclitator_twitter"
                  #event_faclitator_twitter
                />
              </div>
              <div class="form-group">
                <label class="">Facilitator {{ indexF }} facebook</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="facilitator.facebook"
                  formControlName="event_faclitator_facebook"
                  #event_faclitator_facebook
                />
              </div>
              <div class="form-group">
                <label class="">Facilitator {{ indexF }} linkedin</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="facilitator.linkedin"
                  formControlName="event_faclitator_linkedin"
                  #event_faclitator_linkedin
                />
              </div>
            </div>
          </div>
        </div>
        <div class="form__row">
          <div class="form__add-another">
            <button (click)="addFacilitatorInfos()">
              <span>+</span>Add Facilitator
            </button>
          </div>
        </div>
        <div class="d-flex justify-content-between flex-wrap">
          <div
            class="card"
            *ngFor="let schedule of event.schedule; let indexS = index"
          >
            <div class="d-flex flex-column">
              <div class="form-group">
                <label class="">schedule name</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="schedule.name"
                  formControlName="event_schedule_name"
                  #event_schedule_name
                />
              </div>
              <div class="form-group">
                <label class="">schedule date</label>
                <input
                  type="date"
                  class="form-control"
                  [(ngModel)]="schedule.date"
                  formControlName="event_schedule_date"
                  #event_schedule_date
                />
              </div>
              <div class="form-group">
                <div class="d-flex justify-content-between flex-wrap">
                  <div class="card" *ngFor="let program of schedule?.program">
                    <div class="d-flex flex-column">
                      <div class="form-group">
                        <label class="">Program hour</label>
                        <input
                          type="text"
                          class="form-control"
                          [(ngModel)]="program.hour"
                          formControlName="program.hour"
                          #program.hour
                        />
                      </div>
                      <div class="form-group">
                        <label class="">Program name</label>
                        <input
                          type="text"
                          class="form-control"
                          [(ngModel)]="program.text"
                          formControlName="schedule_program_name"
                          #schedule_program_name
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="form__row">
              <div class="form__add-another">
                <button (click)="addActivityInfos(indexS)">
                  <span>+</span>Add Activity
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="form__row">
          <div class="form__add-another">
            <button (click)="addScheduleInfos()">
              <span>+</span>Add Schedule infos
            </button>
          </div>
        </div>
        <div class="form-group">
          <button
            routerLink="/admin"
            (click)="updateEvent()"
            class="btn btn-primary"
          >
            Update Event
          </button>
          <button routerLink="/admin" class="btn space btn-warning">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
